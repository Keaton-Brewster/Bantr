/*! For license information please see main.6041904d.chunk.js.LICENSE.txt */
(this.webpackJsonpbantr=this.webpackJsonpbantr||[]).push([[0],{151:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(41),o=n.n(r),s=n(10),i=n(119),u=n(23),l=n(45),d=n(3),j=Object(c.createContext)();function b(){return Object(c.useContext)(j)}function f(e){var t=e.children,n=Object(c.useState)(window.innerWidth),a=Object(s.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(window.innerHeight),u=Object(s.a)(i,2),b=u[0],f=u[1],O=Object(c.useRef)();Object(c.useEffect)((function(){var e=function(){o(window.innerWidth),f(window.innerHeight)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var h={width:r,height:b,isMobile:l.isMobile,bottomOfMessages:O,scrollToBottomMessages:function(){var e;null===(e=O.current)||void 0===e||e.scrollIntoView()}};return Object(d.jsx)(j.Provider,{value:h,children:t})}var O=Object(c.createContext)();function h(){return Object(c.useContext)(O)}function m(e){var t=e.user,n=e.setUser,a=e.children,r={user:t,setUser:n};return Object(c.useEffect)((function(){"string"===typeof t&&n(JSON.parse(t))}),[t]),Object(d.jsx)(O.Provider,{value:r,children:a})}var x=n(22),v=n(4),p=n(2),g=n.n(p),C=n(38),w=n.n(C),N={signup:function(e,t,n){return Object(v.a)(g.a.mark((function c(){var a;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,w.a.post("http://localhost:3001/api/users/signup",e).catch((function(e){return n(e)}));case 2:if(!(a=c.sent).data.error){c.next=7;break}return c.abrupt("return",n(a));case 7:return c.abrupt("return",t(a.data));case 8:case"end":return c.stop()}}),c)})))()},login:function(e,t,n){return Object(v.a)(g.a.mark((function c(){var a;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,w.a.post("http://localhost:3001/api/users/login",{email:e.email,id:e.googleId}).catch((function(e){return n(e)}));case 2:if(200!==(null===(a=c.sent)||void 0===a?void 0:a.status)||!a.data){c.next=7;break}return c.abrupt("return",t(a.data));case 7:return c.abrupt("return",n(a));case 8:case"end":return c.stop()}}),c)})))()},getContacts:function(e,t,n){return Object(v.a)(g.a.mark((function c(){var a;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,w.a.put("http://localhost:3001/api/users/getContacts",{id_array:e}).catch((function(e){return n(e)}));case 2:if(200!==(null===(a=c.sent)||void 0===a?void 0:a.status)){c.next=7;break}return c.abrupt("return",t(a.data));case 7:return c.abrupt("return",n(a));case 8:case"end":return c.stop()}}),c)})))()},getConversations:function(e,t,n){return Object(v.a)(g.a.mark((function c(){var a;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,w.a.get("http://localhost:3001/api/conversations/".concat(e));case 2:if(200!==(null===(a=c.sent)||void 0===a?void 0:a.status)){c.next=7;break}return c.abrupt("return",t(a.data));case 7:return c.abrupt("return",n(a));case 8:case"end":return c.stop()}}),c)})))()},addContact:function(e,t,n,c){return Object(v.a)(g.a.mark((function a(){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.post("http://localhost:3001/api/users/addContact",{phoneNum:t,user_id:e}).catch((function(e){return c(e)}));case 2:if(200!==(r=a.sent).status){a.next=7;break}return a.abrupt("return",n(r.data));case 7:if(304!==r.status){a.next=11;break}return a.abrupt("return",c(304));case 11:return a.abrupt("return",c(r));case 12:case"end":return a.stop()}}),a)})))()},sendMessage:function(e,t,n,c){return Object(v.a)(g.a.mark((function a(){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.put("/api/conversations/newMessage",{message_info:e,conversation:t}).catch((function(e){return c(e)}));case 2:if(200!==(r=a.sent).status){a.next=7;break}return a.abrupt("return",n(r.data));case 7:return a.abrupt("return",c(r));case 8:case"end":return a.stop()}}),a)})))()},startOrGoTOConversation:function(e,t,n,c){return Object(v.a)(g.a.mark((function a(){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.post("http://localhost:3001/api/conversations/newConversation",e).catch((function(e){return c(e)}));case 2:if(200!==(r=a.sent).status){a.next=7;break}return a.abrupt("return",t(r.data));case 7:if(202!==r.status){a.next=11;break}return a.abrupt("return",n(r.data));case 11:return a.abrupt("return",c(r));case 12:case"end":return a.stop()}}),a)})))()},hideConversation:function(e,t,n,c){return Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}};function k(e,t){var n="CHAT_v1.0.0__"+e,a=Object(c.useState)((function(){var e=localStorage.getItem(n);return"string"===typeof e?JSON.parse(e):"function"===typeof t?t():t})),r=Object(s.a)(a,2),o=r[0],i=r[1];return Object(c.useEffect)((function(){localStorage.setItem(n,JSON.stringify(o))}),[n,o]),[o,i]}var y=a.a.createContext();function S(){return Object(c.useContext)(y)}function E(e){var t=e.children,n=h().user,a=Object(c.useState)([]),r=Object(s.a)(a,2),o=r[0],i=r[1],u=k("last_selected_convo",0),l=Object(s.a)(u,2),j=l[0],b=l[1],f=Object(c.useState)(null),O=Object(s.a)(f,2),m=O[0],v=O[1],p=Object(c.useState)(!1),g=Object(s.a)(p,2),C=g[0],w=g[1],S=Object(c.useCallback)((function(e){var t=o.map((function(t){return t._id===e._id?e:t}));i(t)}),[o]),E=Object(c.useCallback)((function(e){var t={sender_id:n._id,content:e};N.sendMessage(t,o.find((function(e){return e._id===j})),(function(e){S(e),b(e._id)}),(function(e){console.error(e)}))}),[o,j,b,S,n._id]);var M=Object(c.useCallback)((function(e){N.getConversations(n._id,(function(t){return e(t)}),(function(e){return console.error("conversationProvider.js:loadConversation():: ",e)}))}),[n._id]);var I=Object(c.useCallback)((function(){E(m),v(null)}),[m,E]),_=o.sort((function(e,t){return e.updated_at<t.updated_at?1:e.updated_at>t.updated_at?-1:0})).map((function(e){var t=e.messages.map((function(e){return e.fromMe=e.sender_id===n._id,e}));return e.messages=t,e}));Object(c.useEffect)((function(){n&&M((function(e){i(e),0===j&&e.length>0&&b(e[0]._id)}))}),[n,M,j,b]),Object(c.useEffect)((function(){m&&C&&(I(),w(!1))}),[m,C,I]),Object(c.useEffect)((function(){return 0===n?b(0):void 0}),[b,n]);var L={conversations:_,selectedConversation:o.find((function(e){return e._id===j})),sendMessage:E,setSelectedConversation_id:b,updateConversation:S,setConversationFromContact:function(e){return new Promise((function(t,n){try{var c=function(e){return o.find((function(t){return t.members.includes(e)&&2===t.members.length}))}(e);b(c),t()}catch(a){n(a)}}))},setPendingText:v,addNewConversation:function(e){return new Promise((function(t,n){try{i([].concat(Object(x.a)(o),[e])),t()}catch(c){n("ConversationProvider::addNewConversation():: Promise Rejected",c)}}))},setConvoStateReady:w};return Object(d.jsx)(y.Provider,{value:L,children:t})}function M(e){var t=[];return e.forEach((function(n,c){e.length-1===c?t.push("".concat(n.givenName," ").concat(n.familyName)):t.push("".concat(n.givenName," ").concat(n.familyName,","))})),t.join(" ").toString()}function I(e,t,n){N.startOrGoTOConversation({members:e.map((function(e){return e._id})),name:M(e)},(function(e){return t(e)}),(function(e){return n(e)}),(function(e){return console.error("conversations.jsx:startOrGoToConversation():: ",e)}))}var _=Object(c.createContext)();function L(){return Object(c.useContext)(_)}function R(e){var t=e.children,n=h(),a=n.user,r=n.setUser,o=Object(c.useState)(null),i=Object(s.a)(o,2),u=i[0],l=i[1],j=function(e){var t=Object(c.useState)(),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(null),i=Object(s.a)(o,2),u=i[0],l=i[1];return Object(c.useEffect)((function(){if(!e)return l(null);l((function(){return a.filter((function(t){return(t.givenName.toLowerCase()+t.familyName.toLowerCase()).includes(e.toLowerCase())}))}))}),[a,e]),u?[u,r]:[a,r]}(u),b=Object(s.a)(j,2),f=b[0],O=b[1],m=Object(c.useState)(),x=Object(s.a)(m,2),v=x[0],p=x[1];Object(c.useEffect)((function(){!function(e){var t=a.contacts;N.getContacts(t,(function(t){e(t)}),(function(e){console.error(e)}))}((function(e){var t=function(e){return e.sort((function(e,t){return e.familyName<t.familyName?-1:e.familyName>t.familyName?1:0}))}(e);O(t)}))}),[f]);var g={contacts:f,setContacts:O,selectedContact:v,setSelectedContact:p,setUser:r,setSearchValue:l};return Object(d.jsx)(_.Provider,{value:g,children:t})}var B=Object(c.createContext)();function D(){return Object(c.useContext)(B)}function T(e){var t=e.children,n=h().user,a=b(),r=a.width,o=a.height,i=k("content_state","default"),u=Object(s.a)(i,2),j=u[0],f=u[1],O=Object(c.useState)((function(){return l.isMobile?{menu:!0,mainContent:!1}:{menu:!0,mainContent:!0}})),m=Object(s.a)(O,2),x=m[0],v=m[1],p=Object(c.useState)("default"===j?{conversations:!0}:j.storedActiveContent),g=Object(s.a)(p,2),C=g[0],w=g[1],N=Object(c.useState)("default"===j?{conversations:!0}:j.storedActiveMenu),y=Object(s.a)(N,2),S=y[0],E=y[1];Object(c.useEffect)((function(){var e=x.menu,t=x.mainContent;return l.isMobile||e&&t?l.isMobile&&e&&t?v({menu:!0,mainContent:!1}):void 0:v({menu:!0,mainContent:!0})}),[r,o]),Object(c.useEffect)((function(){f({storedActiveContent:C,storedActiveMenu:S})}),[C,S]),Object(c.useEffect)((function(){return 0===n?f("default"):void 0}),[n]);var M={activeContent:C,setActiveContent:w,activeMenu:S,setActiveMenu:E,display:x,setDisplay:v};return Object(d.jsx)(B.Provider,{value:M,children:t})}var A,F=n(15),U=n(16),G=Object(F.b)(A||(A=Object(U.a)(["\n  :root {\n    --main-background: ",";\n    --main-text-color: ",";;\n    --active: ","\n  }"])),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.LGActive})),P=Object(c.createContext)();function H(e){var t=e.children,n={name:"light",body:"#fefffb",text:"#232425",topMenuBackground:"#6eaaff",gradient:"linear-gradient(#39598A, #79D7ED)",span:"#777 !important",LGActive:"#6eaaff",border:"#ddd",danger:"#b00400"},a={name:"dark",body:"#232425",text:"#fefffb",topMenuBackground:"#173e62",gradient:"linear-gradient(#091236, #1E215D)",span:"#b3b3b3 !important",LGActive:"#296eae",border:"#333",danger:"#b00400"},r=k("theme",n),o=Object(s.a)(r,2),i=o[0],u=o[1],l=Object(c.useState)(i),j=Object(s.a)(l,2),b=j[0],f=j[1];return Object(c.useEffect)((function(){"light"===b&&u(n),"dark"===b&&u(a)}),[b,u]),Object(d.jsx)(P.Provider,{value:[i,f],children:Object(d.jsxs)(F.a,{theme:i,children:[Object(d.jsx)(G,{theme:i}),t]})})}var W,Y=n(186),z=n(190),J=n(184),K=n(111),V=n(187),X=n(109),q=n(64);var Q,Z=Object(F.c)((function(e){var t=e.className,n=e.children,c=e.onClick,a=e.style,r=e.index;return Object(d.jsx)("ul",{className:t,onClick:c,style:a||{},"data-index":r,children:n})}))(W||(W=Object(U.a)(["\n  transition: ",";\n  padding: 1rem;\n  background-color: ",";\n  margin-bottom: 0px;\n  :hover,\n  :hover > #addButton {\n    cursor: pointer;\n  }\n  > * {\n    color: inherit;\n    background: none;\n  }\n  > span {\n    color: ",";\n  }\n"])),(function(e){return e.BGTransition?"background 0.5s ease":"background 0s linear !important"}),(function(e){return e.theme.body}),(function(e){return e.theme.span})),$=n(107),ee=n(185);n(151);var te,ne=Object(F.c)((function(e){var t=e.user,n=e.className;return Object(d.jsx)($.a,{className:n,children:Object(d.jsxs)(J.a,{className:"align-content-center",children:[Object(d.jsx)(ee.a,{src:t.photoURL,roundedCircle:!0,fluid:!0,className:"profilePicture"}),Object(d.jsx)("p",{children:"".concat(t.givenName," ").concat(t.familyName)})]})})}))(Q||(Q=Object(U.a)(["\n  background-color: ",";\n"])),(function(e){return e.theme.body})),ce=n(194);var ae,re=Object(F.c)((function(e){var t=e.className,n=e.isMobile,c=e.activeContent,a=S().selectedConversation;return Object(d.jsx)(ce.a.Item,{className:t,id:"conversationName",style:{paddingLeft:"".concat(!n&&c.conversations?"30px":"")},children:a.name||"Untitled Conversation"})}))(te||(te=Object(U.a)(["\n  background-color: ",";\n"])),(function(e){return e.theme.topMenuBackground})),oe=n(108);n(155);var se,ie=Object(F.c)((function(e){var t=e.className,n=e.onClick;return Object(d.jsx)(ce.a.Item,{className:t,onClick:n,children:Object(d.jsx)(oe.a,{id:"conversationInfoButton"})})}))(ae||(ae=Object(U.a)(["\n  background-color: ",";\n"])),(function(e){return e.theme.topMenuBackground})),ue=n(35);n(156);var le,de=Object(F.c)((function(e){var t=e.className,n=e.onClick;return Object(d.jsx)(ce.a.Item,{className:t,onClick:n,children:Object(d.jsx)(ue.a,{className:"backButton"})})}))(se||(se=Object(U.a)(["\n  background-color: ",";\n"])),(function(e){return e.theme.topMenuBackground}));var je,be=Object(F.c)((function(e){var t=e.className,n=e.containerRef,a=Object(c.useState)("100%"),r=Object(s.a)(a,2),o=r[0],i=r[1],u=b(),l=u.width,j=u.isMobile,f=D(),O=f.activeContent,h=f.setActiveContent,m=f.setDisplay;function x(){if(j&&!O.conversationInfo)return m({menu:!0,mainContent:!1});h({conversations:!0}),h({conversationInfo:!1}),setTimeout((function(){h({conversations:!0})}),590)}return Object(c.useEffect)((function(){return i("".concat(n.current.offsetWidth,"px"))}),[l]),Object(d.jsxs)(ce.a,{className:"".concat(t," 'flex-row justify-content-center'"),style:{width:o},children:[Object(d.jsxs)(d.Fragment,{children:[j||!O.conversations?Object(d.jsx)(de,{isMobile:j,onClick:x,activeContent:O}):null," "]}),Object(d.jsx)(re,{isMobile:j,activeContent:O}),Object(d.jsx)(ie,{onClick:function(){if(O.conversationInfo)return x();h({conversationInfo:!0})}})]})}))(le||(le=Object(U.a)(["\n  background-color: ",";\n  position: fixed;\n  top: 0px;\n  padding: 10px;\n  z-index: 20;\n"])),(function(e){return e.theme.topMenuBackground}));var fe=Object(F.c)((function(e){var t=e.containerRef,n=S(),a=n.selectedConversation,r=n.updateConversation,o=Object(c.useState)(),i=Object(s.a)(o,2),u=i[0],l=i[1],j=Object(c.useState)(!1),b=Object(s.a)(j,2),f=b[0],O=b[1],h=Object(c.useState)(!0),m=Object(s.a)(h,2),x=m[0],p=m[1],C=Object(c.useRef)();function N(){return(N=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("http://localhost:3001/api/conversations/getInfo/".concat(a._id));case 2:t=e.sent,l(t.data),p(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(v.a)(g.a.mark((function e(t){var n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={_id:a._id,newName:C.current.value},e.next=4,w.a.put("http://localhost:3001/api/conversations/updateConvoName/",n);case 4:c=e.sent,r(c.data),O(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[]),x?Object(d.jsx)(Y.a,{animation:"border",className:"absoluteCenter",role:"status"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(be,{containerRef:t}),Object(d.jsx)("div",{className:"conversationInfoScreen",children:Object(d.jsxs)(V.a,{variant:"flush",children:[Object(d.jsx)(Z,{children:Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("h4",{children:"Group Name"}),f?Object(d.jsx)("input",{id:"editConvoNameInput",ref:C}):Object(d.jsx)("span",{children:a.name||"Untitled Conversation"}),f?Object(d.jsx)(q.c,{onClick:function(e){return k.apply(this,arguments)},className:"float-right ml-auto"}):Object(d.jsx)(X.a,{onClick:function(e){e.preventDefault(),O(!0),setTimeout((function(){C.current.value="".concat(a.name||"Untitled Conversation"),document.getElementById("editConvoNameInput").focus()}),5)},className:"float-right ml-auto"})]})}),Object(d.jsxs)(Z,{children:[Object(d.jsx)("h4",{children:"Members"}),u.map((function(e,t){return Object(d.jsx)(ne,{user:e},t)}))]})]})})]})}))(je||(je=Object(U.a)(["\n  transition: background 0.5s ease;\n"])));function Oe(){return Object(d.jsx)("div",{className:"m-5 p-5 text-center",children:"Start a new message to get started!"})}var he=n(188),me=n(121);function xe(e){var t=e.containerRef,n=e.setContactRemovalModal,a=(e._id,e.showNewMessageModal),r=Object(c.useState)("100%"),o=Object(s.a)(r,2),i=o[0],u=o[1],l=b(),j=l.width,f=l.isMobile,O=L().selectedContact,h=D().activeContent;return Object(c.useEffect)((function(){return u("".concat(t.current.offsetWidth,"px"))}),[j]),O?Object(d.jsxs)(ce.a,{id:"contactTopMenu",className:"flex-row justify-content-center",style:{width:i},children:[Object(d.jsx)(ce.a.Item,{id:"conversationName",style:{paddingLeft:"".concat(!f&&h.conversations?"30px":"")},children:"".concat(O.givenName," ").concat(O.familyName)}),Object(d.jsx)(ce.a.Item,{children:Object(d.jsxs)(he.a,{align:{lg:"start"},title:"",children:[Object(d.jsx)(me.a.Item,{onClick:a,children:"Send Message"}),Object(d.jsx)(me.a.Item,{onClick:function(){console.log("ContactTopMenu :: executed removeContact()"),n(!0)},children:"Remove Contact"})]},"secondary")})]}):null}var ve,pe=n(191),ge=n(110);function Ce(e){var t=e.show,n=e.hide;return Object(d.jsxs)(pe.a,{show:t,onHide:n,centered:!0,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",keyboard:!1,children:[Object(d.jsx)(pe.a.Header,{closeButton:!0,children:Object(d.jsx)(pe.a.Title,{id:"contained-modal-title-vcenter",children:Object(d.jsx)("h4",{children:"Are you sure you want to remove this contact?"})})}),Object(d.jsxs)(pe.a.Body,{children:[Object(d.jsx)(ge.a,{onClick:function(){console.log("confirm removal of contact")},children:"Yes"}),Object(d.jsx)(ge.a,{onClick:n,children:"No"})]}),Object(d.jsx)(pe.a.Footer,{})]})}var we=a.a.forwardRef((function(e,t){var n=e.className,c=e.handleInputChange;return Object(d.jsx)("span",{className:"".concat(n," textarea"),role:"textbox",contentEditable:!0,onInput:c,onBlur:c,ref:t})})),Ne=Object(F.c)(we)(ve||(ve=Object(U.a)(["\n    padding: 5px;\n    padding-left: 20px;\n    margin-bottom: 10px;\n    width: 100%;\n    border-radius: 25px;\n    border: 1px solid ",';\n    resize: none;\n    &:focus {\n        outline: none\n        box-shadow: 0 0 4px 0px var(--light)\n    };\n    &:empty::before {\n    content: "New Message";\n    color: grey;\n    };\n    display: block;\n    overflow: scroll;\n    min-height: 40px;\n    line-height: 20px;\n    max-height: 40vh;\n    '])),(function(e){return e.theme.border}));function ke(e){var t=e.show,n=e.hide,a=e.messageSubmit,r=Object(c.useState)(null),o=Object(s.a)(r,2),i=o[0],u=o[1],l=Object(c.useState)(!1),j=Object(s.a)(l,2),b=(j[0],j[1],Object(c.useRef)());function f(e){document.activeElement===b.current&&i&&"Enter"===e.key&&e.metaKey&&a(i)}return Object(c.useEffect)((function(){return document.addEventListener("keydown",f,!1),function(){document.removeEventListener("keydown",f,!1)}})),Object(d.jsxs)(pe.a,{show:t,onHide:n,centered:!0,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",keyboard:!1,children:[Object(d.jsx)(pe.a.Header,{closeButton:!0,children:Object(d.jsx)(pe.a.Title,{id:"contained-modal-title-vcenter",children:Object(d.jsx)("h4",{children:"New Message"})})}),Object(d.jsx)(pe.a.Body,{children:Object(d.jsx)(Ne,{ref:b,handleInputChange:function(e){e.preventDefault(),u(b.current.innerText)}})}),Object(d.jsxs)(pe.a.Footer,{children:[Object(d.jsx)(ge.a,{variant:"success",onClick:function(e){e.preventDefault(),i&&a(i)},children:"Send"}),Object(d.jsx)(ge.a,{variant:"danger",onClick:n,children:"Cancel"})]})]})}var ye;n(158);function Se(e){var t=e.containerRef,n=L().selectedContact,a=h().user,r=S(),o=r.conversations,i=r.setPendingText,u=r.setSelectedConversation_id,l=r.addNewConversation,j=r.setConvoStateReady,b=D(),f=b.setActiveContent,O=b.setActiveMenu,m=Object(c.useState)(!1),x=Object(s.a)(m,2),v=x[0],p=x[1],g=Object(c.useState)(null),C=Object(s.a)(g,2),w=C[0],N=C[1],k=Object(c.useState)(!1),y=Object(s.a)(k,2),E=y[0],M=y[1],_=Object(c.useState)(!1),R=Object(s.a)(_,2),B=R[0],T=R[1],A=Object(c.useState)(!0),F=Object(s.a)(A,2),U=(F[0],F[1],Object(c.useCallback)((function(){j(!0),T(!1),f({conversations:!0}),O({conversations:!0})}),[f,O,j]));return Object(c.useEffect)((function(){v&&(u(w),U(),N(null),p(!1))}),[v,o,U,w,u]),Object(d.jsx)(d.Fragment,{children:n?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(xe,{containerRef:t,setContactRemovalModal:M,_id:n._id,showNewMessageModal:function(){T(!0)}}),Object(d.jsx)("div",{className:"conversationInfoScreen",children:Object(d.jsxs)(V.a,{variant:"flush",children:[Object(d.jsx)(Z,{children:Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsx)(ee.a,{style:{width:"40%",marginLeft:"25%"},src:n.photoURL,fluid:!0,thumbnail:!0})})}),Object(d.jsxs)(Z,{children:[Object(d.jsx)("h4",{children:"Email:"}),Object(d.jsx)("p",{style:{paddingLeft:"20px"},children:"".concat(n.email)})]})]})}),Object(d.jsx)(ke,{show:B,hide:function(){return T(!1)},messageSubmit:function(e){i(e),I([a,n],(function(e){l(e).then((function(){N(e._id),p(!0)}))}),(function(e){u(e._id),U()}))}}),Object(d.jsx)(Ce,{show:E,hide:function(){return M(!1)}})]}):Object(d.jsx)("div",{className:"absoluteCenter",children:"Select A Contact"})})}var Ee,Me=Object(F.c)((function(e){var t=e.className,n=e.containerRef,a=Object(c.useState)(null),r=Object(s.a)(a,2),o=r[0],i=r[1],u=S().sendMessage,l=b(),j=l.width,f=l.scrollToBottomMessages,O=Object(c.useState)("100%"),h=Object(s.a)(O,2),m=h[0],x=h[1],v=Object(c.useState)(!1),p=Object(s.a)(v,2),g=p[0],C=p[1],w=Object(c.useRef)();function N(e){e.preventDefault(),o&&(C(!1),f(),u(o),i(null),w.current.textContent="",document.activeElement.blur())}function k(e){document.activeElement===w.current&&o&&"Enter"===e.key&&e.metaKey&&N(e)}return Object(c.useEffect)((function(){x(j>=680?"".concat(n.current.offsetWidth,"px"):"100%")}),[j]),Object(c.useEffect)((function(){return document.addEventListener("keydown",k,!1),function(){document.removeEventListener("keydown",k,!1)}})),Object(d.jsxs)("div",{id:"chatBox",style:{width:m},className:t,children:[Object(d.jsx)(J.a,{children:Object(d.jsx)("div",{className:"".concat(g?"show":"hide")})}),Object(d.jsx)(J.a,{}),Object(d.jsxs)(J.a,{children:[Object(d.jsx)(K.a,{xs:9,children:Object(d.jsx)(Ne,{ref:w,handleInputChange:function(e){e.preventDefault(),i(w.current.innerText)}})}),Object(d.jsx)(K.a,{xs:2,className:"text-center chatInputButton",children:Object(d.jsx)(ue.c,{id:"openEmojisButton",onClick:function(e){e.preventDefault(),C(!g)}})}),Object(d.jsx)(K.a,{xs:1,className:"text-center chatInputButton",children:Object(d.jsx)("button",{id:"sendButton",onClick:N,children:Object(d.jsx)(ue.b,{className:"sendButton"})})})]})]})}))(ye||(ye=Object(U.a)(["\n  transition: background 0.5s ease;\n  margin-right: auto;\n  margin-left: auto;\n  position: fixed;\n  bottom: 0;\n  padding: 15px;\n  padding-right: 30px;\n"])));function Ie(e){var t=e.show;return Object(d.jsx)("nav",{id:"contextMenu",className:t?"show":"hide",children:Object(d.jsx)("button",{className:"deleteMessageButton",children:Object(d.jsx)(ue.d,{className:"deleteMessageButton"})})})}var _e,Le=Object(F.c)((function(e){var t,n=e.data,a=e.handleRightClick,r=e.index,o=e.className,i=Object(s.a)(n,2),u=i[0],l=i[1];return Object(c.useEffect)((function(){if(u.fromMe){var e=document.getElementById("message_".concat(r));return e.addEventListener("contextmenu",(function(t){a(t,e)})),function(){return e.removeEventListener("contextmenu",a)}}})),Object(d.jsxs)("div",{id:"message_".concat(r),className:"my-1 d-flex flex-column ".concat(o," ").concat(u.fromMe?"align-self-end align-items-end":"align-items-start"),children:[Object(d.jsx)("div",{className:"message round-border px-2 py-1 ".concat(u.fromMe?"messageFromMe":"messageToMe"),children:u.content}),Object(d.jsx)("div",{className:"text-muted small ".concat(u.fromMe?"text-right":""),children:!u.fromMe||null!==(t=l[r+1])&&void 0!==t&&t.fromMe?u.fromMe?"":u.senderName:"You"})]})}))(Ee||(Ee=Object(U.a)(["\n  > div.message {\n    overflow-wrap: break-word;\n    white-space: break-spaces;\n    transition: background 0s linear;\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.data[0].fromMe?"#6ab71c":"#e9e9e9"}),(function(e){return e.data[0].fromMe?"#fefffb":"#232425"}));n(159);function Re(e){var t=e.containerRef,n=Object(c.useState)(!0),a=Object(s.a)(n,2),r=a[0],o=a[1],i=D(),u=i.display,l=i.activeContent,j=S().selectedConversation,f=Object(c.useState)(!1),O=Object(s.a)(f,2),h=O[0],m=O[1],x=b().bottomOfMessages;function v(e,t){h||(e.preventDefault(),m(!0))}var p=Object(c.useCallback)((function(){h&&m(!1)}),[h]);return Object(c.useEffect)((function(){r||(document.getElementById("messageWrapper").scrollTop=1e6)}),[j,u,r]),Object(c.useEffect)((function(){return document.addEventListener("click",p),function(){document.removeEventListener("click",p)}}),[p]),Object(c.useEffect)((function(){j&&o(!1)}),[j]),r?Object(d.jsx)(Y.a,{className:"absoluteCenter",animation:"border"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(be,{containerRef:t}),Object(d.jsx)(Ie,{show:h}),Object(d.jsxs)("div",{id:"messageWrapper",children:[Object(d.jsx)("div",{className:"d-flex flex-column flex-grow-1",id:"messages",children:Object(d.jsx)("div",{className:"flex-grow-1 overflow-auto",children:Object(d.jsxs)("div",{className:"d-flex flex-column align-items-start justify-content-end px-3",children:[j.messages.map((function(e,t){return Object(d.jsx)(Le,{index:t,data:[e,j.messages],handleRightClick:v},t)})),Object(d.jsx)("div",{id:"bottomOfMessages",ref:x})]})})}),l.conversations&&Object(d.jsx)(Me,{containerRef:t})]})]})}var Be=Object(F.c)((function(e){var t=e.className,n=S().selectedConversation,a=Object(c.useRef)(),r=D(),o=r.display,s=r.activeContent;return Object(d.jsx)(K.a,{sm:8,className:"".concat(o.mainContent?"show":"hide"," ").concat(t),ref:a,style:{overflow:"hidden !important"},children:n?s.conversations?Object(d.jsx)(Re,{containerRef:a}):s.conversationInfo?Object(d.jsx)(fe,{containerRef:a}):s.contacts?Object(d.jsx)(Se,{containerRef:a}):Object(d.jsx)(Oe,{}):Object(d.jsx)(Oe,{})})}))(_e||(_e=Object(U.a)(["\n  border-left: 1px solid ",";\n  height: 100vh;\n  padding: 0;\n"])),(function(e){return e.theme.border})),De=n(112);n(160);function Te(e){var t=e.containerRef,n=Object(c.useState)("100%"),a=Object(s.a)(n,2),r=a[0],o=a[1],i=D(),u=i.activeMenu,l=i.setActiveMenu,j=i.setActiveContent,f=b().width;function O(e,t){e.preventDefault(),l(t),j(t)}return Object(c.useEffect)((function(){o(f>=680?"".concat(t.current.offsetWidth,"px"):"100%")}),[f]),Object(d.jsx)("div",{id:"menuBar",style:{width:r},children:Object(d.jsxs)(ce.a,{className:"justify-content-center",children:[Object(d.jsx)(ce.a.Item,{children:Object(d.jsx)(ce.a.Link,{id:"conversations",onClick:function(e){return O(e,{conversations:!0})},children:Object(d.jsx)(q.a,{className:"menuIcons ".concat(u.conversations?"activeMenuIcon":"")})})}),Object(d.jsx)(ce.a.Item,{children:Object(d.jsx)(ce.a.Link,{id:"contacts",onClick:function(e){return O(e,{contacts:!0})},children:Object(d.jsx)(q.b,{className:"menuIcons ".concat(u.contacts?"activeMenuIcon":"")})})}),Object(d.jsx)(ce.a.Item,{children:Object(d.jsx)(ce.a.Link,{id:"settings",onClick:function(e){return O(e,{settings:!0})},children:Object(d.jsx)(De.a,{className:"menuIcons ".concat(u.settings?"activeMenuIcon":"")})})})]})})}var Ae,Fe=n(189),Ue=n(113);n(161);function Ge(e){var t=e.userInfo,n=e.removeRecipient;return Object(d.jsxs)(Fe.a,{pill:!0,bg:"primary",children:["".concat(t.givenName," ").concat(t.familyName),Object(d.jsx)("button",{onClick:n,children:Object(d.jsx)(Ue.a,{className:"removeRecipientButton"})})]})}var Pe=a.a.forwardRef((function(e,t){var n=e.className,c=e.handleInputChange;return Object(d.jsx)(ce.a,{children:Object(d.jsx)("div",{contentEditable:!0,role:"textbox",onInput:c,ref:t,className:"".concat(n," textarea")})})})),He=Object(F.c)(Pe)(Ae||(Ae=Object(U.a)(["   \n  padding: 5px;\n  padding-left: 20px;\n  margin: 10px 0px;\n  width: ",";\n  border-radius: 25px;\n  border: 1px solid ",";\n  overflow-wrap: break-word;\n  resize: none;\n  z-index: 20;\n  position: ",";\n  top: ",'; \n  \n  :focus {\n      outline: none\n      box-shadow: 0 0 4px 0px var(--light)\n  };\n  :empty::before {\n  content: "Search";\n  color: grey;\n};\n  :hover {\n    cursor: auto\n  }\n'])),(function(e){return e.fixed?"32.3333%":"100%"}),(function(e){return e.theme.border}),(function(e){return e.fixed?"fixed":""}),(function(e){return e.fixed?"top 0px":""}));function We(e){var t=e.show,n=e.hide,a=e.setNewConversationRecipients,r=L(),o=r.contacts,i=r.setSearchValue,u=Object(c.useState)([]),l=Object(s.a)(u,2),j=l[0],b=l[1],f=Object(c.useState)(!0),O=Object(s.a)(f,2),h=(O[0],O[1]),m=Object(c.useRef)();return Object(c.useEffect)((function(){o&&h(!1)}),[o]),Object(d.jsxs)(pe.a,{show:t,onHide:function(){b([]),n()},centered:!0,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",keyboard:!1,children:[Object(d.jsx)(pe.a.Header,{closeButton:!0,children:Object(d.jsx)(pe.a.Title,{id:"contained-modal-title-vcenter",children:Object(d.jsx)("h4",{children:"Start a new conversation"})})}),Object(d.jsxs)(pe.a.Header,{children:[Object(d.jsx)("p",{children:"Recipients:"}),j?Object(d.jsx)(d.Fragment,{children:j.map((function(e,t){return Object(d.jsx)(Ge,{userInfo:e,removeRecipient:function(){return function(e){b((function(t){return t.filter((function(t){return t._id!==e._id}))}))}(e)}},t)}))}):null]}),Object(d.jsxs)(pe.a.Body,{children:[Object(d.jsx)(He,{ref:m,handleInputChange:function(e){e.preventDefault(),i(m.current.textContent)}}),Object(d.jsx)(V.a,{children:o?o.map((function(e,t){return Object(d.jsx)(Z,{className:"LGItem",onClick:function(){return function(e){b((function(t){return t.includes(e)?t:[].concat(Object(x.a)(t),[e])}))}(e)},children:e.givenName+" "+e.familyName},t)})):Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"No Contacts here!"})})})]}),Object(d.jsx)(pe.a.Footer,{children:Object(d.jsx)(ge.a,{variant:"success",onClick:function(e){e.preventDefault(),a(j),b([]),n()},children:"Start Conversation"})})]})}var Ye,ze=n(79);var Je,Ke=Object(F.c)((function(e){var t=e.className,n=e.onClick;return Object(d.jsxs)(Z,{className:"".concat(t),onClick:n,children:[Object(d.jsx)(ze.a,{id:"addButton"}),"New Message"]})}))(Ye||(Ye=Object(U.a)(["\n  border-bottom: solid 1px ",";\n"])),(function(e){return e.theme.border}));var Ve,Xe=Object(F.c)((function(e){var t=e.show,n=e.hide,c=e.className,a=e.targetIndex,r=e.theme;return h().user,S().conversations,Object(d.jsx)(pe.a,{show:t,onHide:n,centered:!0,"aria-labelledby":"contained-modal-title-vcenter",keyboard:!1,className:c,children:Object(d.jsxs)(pe.a.Header,{closeButton:!0,children:[Object(d.jsx)(pe.a.Title,{id:"contained-modal-title-vcenter",children:Object(d.jsx)("h4",{children:"Are you sure you want to delete this conversation?"})}),Object(d.jsx)("br",{}),Object(d.jsx)(ge.a,{style:{backgroundColor:"".concat(r.danger)},onClick:function(e){e.preventDefault(),console.log(a)},children:"Yes"}),Object(d.jsx)(ge.a,{onClick:n,children:"No"})]})})}))(Je||(Je=Object(U.a)([""]))),qe=Object(F.d)(Xe);var Qe,Ze=Object(F.c)((function(e){var t=e.className,n=Object(c.useContext)(tt).setDelConvoModalShow;function a(e){e.preventDefault(),e.stopPropagation(),n(!0)}return Object(d.jsx)("div",{className:t,onClick:a,children:Object(d.jsx)(ue.d,{id:"deleteIcon",className:"center",onClick:a})})}))(Ve||(Ve=Object(U.a)(["\n  width: 80px;\n  background-color: ",";\n  position: absolute;\n  right: -80px;\n  top: 0px;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  > #deleteIcon {\n    fill: #fefffb;\n    background-color: ",";\n    height: 100%;\n    width: 20px;\n    left: auto;\n  }\n"])),(function(e){return e.theme.danger}),(function(e){return e.theme.danger}));var $e,et=Object(F.c)((function(e){var t=e.className,n=e.convo,a=e.index,r=e.targetIndex,o=e.offset,i=D(),u=i.setActiveContent,l=i.setDisplay,j=b().isMobile,f=S(),O=f.selectedConversation,h=f.setSelectedConversation_id,m=Object(c.useState)("0px"),x=Object(s.a)(m,2),v=x[0],p=x[1];function g(e){e.target.dataset.index!==a&&p("0px")}return Object(c.useEffect)((function(){r===a&&p("".concat(o,"px")),r!==a&&p("0px")}),[o,r,a]),Object(c.useEffect)((function(){return document.body.addEventListener("click",g,!1),function(){document.body.removeEventListener("click",g,!1)}})),O?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(Z,{index:a,className:"".concat(n._id!==O._id||j?"":"LGActive"," ").concat(t),onClick:function(e){e.preventDefault(),h(n._id),j?l({menu:!1,mainContent:!0}):u({conversations:!0})},style:{right:v},children:[n.name||"Untitled Conversation",Object(d.jsx)("br",{}),Object(d.jsx)("span",{"data-index":a,children:n.messages.length>0?n.messages[n.messages.length-1].content.length>28?n.messages[n.messages.length-1].content.slice(0,30)+"...":n.messages[n.messages.length-1].content.slice(0,30):""}),Object(d.jsx)(Ze,{})]},a)}):Object(d.jsx)(d.Fragment,{})}))(Qe||(Qe=Object(U.a)(["\n  position: relative;\n  transition: all 0.5s ease, color 0s linear, background 0s linear !important;\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.border})),tt=Object(c.createContext)();var nt,ct=Object(F.c)((function(e){var t=e.className,n=e.conversations,a=Object(c.useState)(0),r=Object(s.a)(a,2),o=r[0],i=r[1],u=Object(c.useState)(null),l=Object(s.a)(u,2),j=l[0],b=l[1],f=Object(c.useState)(!1),O=Object(s.a)(f,2),h=O[0],m=O[1];function x(e,t){if(!j||!e)return i(0);"open"===t&&o<80?i(80):"close"===t&&o>0&&i(0)}function v(e){var t=e.target.dataset.index;b(t),e.wheelDeltaX<0&&0===e.wheelDeltaY&&x(t,"open"),e.wheelDeltaX>0&&0===e.wheelDeltaY&&x(t,"close")}return Object(c.useEffect)((function(){return document.addEventListener("mousewheel",v,!1),document.addEventListener("DOMMouseScroll",v,!1),function(){document.removeEventListener("mousewheel",v,!1),document.removeEventListener("DOMMouseScroll",v,!1)}})),Object(d.jsx)("div",{className:t,children:Object(d.jsx)(tt.Provider,{value:{delConvoModalShow:h,setDelConvoModalShow:m},children:Object(d.jsxs)(d.Fragment,{children:[n.map((function(e,t){return Object(d.jsx)(et,{convo:e,index:t.toString(),targetIndex:j,offset:o},t)})),Object(d.jsx)(qe,{show:h,hide:function(){return m(!1)},targetIndex:j})]})})})}))($e||($e=Object(U.a)(["\n  overflow-x: hidden;\n"])));var at,rt=Object(F.c)((function(e){var t=e.className,n=e.results,c=e.onClick,a=S().selectedConversation,r=b().isMobile;return Object(d.jsx)("div",{className:t,children:n.length>0?n.map((function(e,t){return Object(d.jsxs)(Z,{className:"".concat(e.message._id!==a._id||r?"":"LGActive"),onClick:function(t){return c(t,e.convoId)},children:[Object(d.jsx)(d.Fragment,{children:e.message.content.slice(0,30)+"..."||!1}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{children:e.convoName||"Untitled Conversation"})]},t)})):Object(d.jsx)(Z,{children:"No Results"})})}))(nt||(nt=Object(U.a)(["\n  margin-top: 4rem;\n"])));var ot=Object(F.c)((function(e){var t=e.className,n=h().user,a=S(),r=a.conversations,o=a.setPendingText,i=a.selectedConversation,u=a.setSelectedConversation_id,l=a.addNewConversation,j=a.setConvoStateReady,b=Object(c.useState)(!1),f=Object(s.a)(b,2),O=f[0],m=f[1],v=Object(c.useState)(!1),p=Object(s.a)(v,2),g=p[0],C=p[1],w=Object(c.useState)(null),N=Object(s.a)(w,2),k=N[0],y=N[1],E=Object(c.useState)(!1),M=Object(s.a)(E,2),_=M[0],L=M[1],R=Object(c.useState)(null),B=Object(s.a)(R,2),D=B[0],T=B[1],A=Object(c.useRef)(),F=Object(c.useState)(null),U=Object(s.a)(F,2),G=U[0],P=U[1],H=Object(c.useCallback)((function(){j(!0),C(!1)}),[j]);Object(c.useEffect)((function(){k&&C(!0)}),[k]),Object(c.useEffect)((function(){_&&(u(D),H(),T(null),L(!1))}),[_,r,H,D,u]);var W=Object(c.useState)(null),Y=Object(s.a)(W,2),z=Y[0],J=Y[1];return Object(c.useEffect)((function(){if(G){var e=[];r.forEach((function(t){e=[].concat(Object(x.a)(e),Object(x.a)(t.messages.filter((function(e){return!!e.content.toLowerCase().trim().includes(G.toLowerCase().trim())})).map((function(e){return{convoId:t._id,convoName:t.name,message:e}}))))})),J(e)}}),[r,G]),Object(d.jsxs)("div",{className:t,children:[Object(d.jsxs)(V.a,{variant:"flush",children:[Object(d.jsx)(He,{ref:A,handleInputChange:function(e){if(e.preventDefault(),""===A.current.innerText.trim())return P(null),void J(null);P(A.current.innerText)},fixed:!!G}),z?Object(d.jsx)(rt,{results:z,onClick:function(e,t){e.preventDefault(),u(t),P(null),A.current.innerText="",J(null)}}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Ke,{onClick:function(e){e.preventDefault(),m(!0)}}),Object(d.jsx)(ct,{conversations:r,selectedConversation:i})]})]}),Object(d.jsx)(We,{show:O,hide:function(){return m(!1)},setNewConversationRecipients:y}),Object(d.jsx)(ke,{show:g,hide:function(){return C(!1)},messageSubmit:function(e){o(e),I([].concat(Object(x.a)(k),[n]),(function(e){l(e).then((function(){T(e._id),L(!0)}))}),(function(e){u(e._id),H()}))}})]})}))(at||(at=Object(U.a)(["\n  height: 100vh;\n  overflow-y: scroll;\n  padding-bottom: 4rem;\n"]))),st=n(61);function it(e){var t=e.show,n=e.hide,a=e.addContact,r=Object(c.useState)(),o=Object(s.a)(r,2),i=o[0],u=o[1],l=Object(c.useState)(!0),j=Object(s.a)(l,2),b=j[0],f=j[1];return Object(c.useEffect)((function(){void 0!==i&&null!==i&&(11===i.replace(/[+]/g,"").match(/\d/g).length?f(!1):f(!0))}),[i]),Object(d.jsxs)(pe.a,{show:t,onHide:n,centered:!0,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",keyboard:!1,children:[Object(d.jsx)(pe.a.Header,{closeButton:!0,children:Object(d.jsx)(pe.a.Title,{id:"contained-modal-title-vcenter",children:Object(d.jsx)("h4",{children:"Add a new contact by phone number"})})}),Object(d.jsx)(pe.a.Body,{children:Object(d.jsx)(st.a,{id:"phoneInput",country:"US",defaultCountry:"US",placeholder:"(___) ___-____ ",value:i,onChange:u})}),Object(d.jsx)(pe.a.Footer,{children:Object(d.jsx)(ge.a,{disabled:b,variant:"success",onClick:function(){return a(i)},children:"Add"})})]})}function ut(){var e=L(),t=e.contacts,n=e.selectedContact,a=e.setSelectedContact,r=h(),o=r.user,i=r.setUser,u=D().isMobile,l=Object(c.useState)(!1),j=Object(s.a)(l,2),b=j[0],f=j[1],O=Object(c.useState)(!0),m=Object(s.a)(O,2),x=m[0],v=m[1];return Object(c.useEffect)((function(){t&&v(!1)}),[t]),Object(c.useEffect)((function(){return function(){a(null)}}),[]),x?Object(d.jsx)(Y.a,{className:"absoluteCenter",animation:"border"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(it,{show:b,hide:function(){return f(!1)},addContact:function(e){if(e===o.phoneNum)return f(!1),alert("you cannot add yourself as a contact");N.addContact(o._id,e,(function(e){if(!e)return alert("You already have that contact!");i(e),f(!1)}),(function(e){console.log("contacts.jsx",e)}))}}),Object(d.jsxs)(V.a,{children:[Object(d.jsxs)(Z,{className:"LGItem",onClick:function(e){e.preventDefault(),f(!0)},children:[Object(d.jsx)(ze.a,{id:"addButton"}),"Add Contact"]}),t?t.map((function(e,t){return Object(d.jsx)(Z,{className:"LGItem ".concat(n?e._id!==n._id||u?"":"LGActive":""),onClick:function(t){t.preventDefault(),function(e){a(e)}(e)},children:e.givenName+" "+e.familyName},t)})):Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"No Contacts here!"})})]})]})}var lt=n(115),dt=n(122),jt=n(58),bt=Object(lt.a)({apiKey:"AIzaSyAtHds16Ff78hO9pibKKiF4DxY_oNpadxY",authDomain:"bantr-19982022.firebaseapp.com",projectId:"bantr-19982022",storageBucket:"bantr-19982022.appspot.com",messagingSenderId:"94998621983",appId:"1:94998621983:web:3453913cda12e4db76ca2a",measurementId:"G-K2HDCY4TWL"}),ft=(Object(dt.a)(bt),new jt.a),Ot=Object(jt.b)();var ht=n(116),mt=n.n(ht);function xt(){var e=k("user",0),t=Object(s.a)(e,2),n=(t[0],t[1]),a=Object(c.useContext)(P),r=Object(s.a)(a,2),o=r[0],i=r[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(V.a,{children:[Object(d.jsx)(Z,{className:"LGItem text-center",BGTransition:!0,children:Object(d.jsx)(ge.a,{onClick:function(e){e.preventDefault(),n(0),Ot.signOut(),window.location.href="/"},children:"Logout"})}),Object(d.jsxs)(Z,{className:"LGItem",BGTransition:!0,children:[Object(d.jsx)("span",{children:"App Theme "}),Object(d.jsx)(mt.a,{onChange:function(e){e?i("dark"):e||i("light")},checked:"dark"===o.name,size:80})]})]})})}function vt(){var e=D(),t=e.activeMenu,n=e.display,a=Object(c.useRef)();return Object(d.jsx)("div",{ref:a,children:Object(d.jsxs)("div",{className:n.menu?"show":"hide",children:[t.conversations?Object(d.jsx)(ot,{}):t.contacts?Object(d.jsx)(ut,{}):t.settings?Object(d.jsx)(xt,{}):void 0,Object(d.jsx)(Te,{containerRef:a})]})})}n(169);function pt(){var e=D().display,t=Object(c.useState)(!0),n=Object(s.a)(t,2),a=n[0],r=n[1],o=S().conversations;return Object(c.useEffect)((function(){o&&r(!1)}),[o]),Object(c.useEffect)((function(){return function(){localStorage.removeItem("epr_ru")}})),Object(d.jsx)(d.Fragment,{children:a?Object(d.jsx)(Y.a,{className:"absoluteCenter",animation:"border"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.BrowserView,{children:Object(d.jsx)(z.a,{fluid:!0,children:Object(d.jsxs)(J.a,{style:{marginRight:"0px !important"},children:[Object(d.jsx)(K.a,{sm:4,style:{paddingRight:"0px"},children:Object(d.jsx)(vt,{})}),Object(d.jsx)(Be,{})]})})}),Object(d.jsx)(l.MobileView,{children:Object(d.jsx)(z.a,{fluid:!0,children:e.menu?Object(d.jsx)(vt,{}):e.mainContent?Object(d.jsx)(Be,{}):void 0})})]})})}var gt=n(118),Ct=n.n(gt),wt=n(192),Nt=n(193);n(170);function kt(){var e={marginLeft:b().width/16+"px "};return Object(d.jsx)(Nt.a,{id:"header",expand:"lg",className:"p-3",children:Object(d.jsx)("h1",{style:e,children:"Bantr"})})}function yt(){var e=h().setUser;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(kt,{}),Object(d.jsxs)(z.a,{id:"login",children:[Object(d.jsx)(J.a,{className:"justify-content-center",children:Object(d.jsxs)(wt.a,{id:"form",className:"text-center",children:[Object(d.jsx)("h2",{children:"Login"}),Object(d.jsx)("h5",{children:"Use your Google account to sign in"}),Object(d.jsx)(Ct.a,{clientId:"957666672016-3850ch4mr24gvr89bmt514bn7u359mb4.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(t){var n=t.profileObj;N.login(n,(function(t){var n=JSON.stringify(t);e(n)}),(function(e){alert("No user could be found. Please sign up!"),console.error(e)}))},onFailure:function(){alert("whoops, something went wrong!")},cookiePolicy:"single_host_origin"})]})}),Object(d.jsx)(J.a,{className:"justify-content-center",children:Object(d.jsxs)("span",{id:"signupLink",className:"text-center",children:["Don't have an account?",Object(d.jsx)("br",{})," Sign up ",Object(d.jsx)("a",{href:"/signup",children:"here"}),"!"]})})]})]})}n(171);function St(){var e=h(),t=e.user,n=e.setUser;return Object(d.jsxs)(d.Fragment,{children:[" ",t?Object(d.jsx)(pt,{user:t}):Object(d.jsx)(yt,{setUser:n})]})}var Et;n(172);var Mt=Object(F.c)((function(e){var t=e.setUser,n=e.className,a=b().width,r=Object(c.useState)("100%"),o=Object(s.a)(r,2),i=o[0],u=o[1],l=Object(c.useState)(),j=Object(s.a)(l,2),f=j[0],O=j[1],h=Object(c.useState)(""),m=Object(s.a)(h,2),x=m[0],v=m[1],p=Object(c.useState)(""),g=Object(s.a)(p,2),C=g[0],w=g[1],k=Object(c.useState)(!0),y=Object(s.a)(k,2),S=y[0],E=y[1],M=Object(c.useRef)(),I=Object(c.useRef)();return Object(c.useEffect)((function(){return a<680&&u("100%"),u("".concat(a/1.5,"px")),function(){}}),[a]),Object(c.useEffect)((function(){void 0!==f&&null!==f&&C&&x&&(11===f.replace(/[+]/g,"").match(/\d/g).length&&x&&C?E(!1):E(!0))}),[f,C,x]),Object(d.jsxs)("div",{className:n,children:[Object(d.jsx)(kt,{}),Object(d.jsxs)(z.a,{style:{width:i},children:[Object(d.jsx)(J.a,{className:"justify-content-center",children:Object(d.jsxs)(wt.a,{id:"form",className:"text-center",children:[Object(d.jsx)("h2",{children:"Sign up here to get started"}),Object(d.jsx)("h5",{className:"mb-3 font-light",children:"Because we want to keep your information as safe as possible, just fill in your phone number, and then please use your Google account to sign up."}),Object(d.jsx)(st.a,{id:"phoneInput",country:"US",defaultCountry:"US",placeholder:"+0 000 000 0000",value:f,onChange:O}),Object(d.jsxs)("div",{className:"m-5",children:[Object(d.jsx)("input",{onChange:function(e){e.preventDefault(),M.current.value&&v(M.current.value)},placeholder:"First Name",type:"text",ref:M}),Object(d.jsx)("input",{onChange:function(e){e.preventDefault(),I.current.value&&w(I.current.value)},placeholder:"Last Name",type:"text",ref:I}),Object(d.jsx)("button",{className:"button",onClick:function(e){var n,c;e.preventDefault(),x&&C&&f&&(n=function(e){console.log(e);var n=e.email,c=e.photoURL,a=e.uid;!function(e){N.signup(e,(function(e){var n=JSON.stringify(e);t(n),window.location.href="/"}),(function(e){alert("That user already exists. Please sign in."),console.log(e)}))}({email:n,givenName:x,familyName:C,photoURL:c,phoneNum:f,uid:a})},c=function(e){console.log(e)},Object(jt.d)(Ot,jt.c).then((function(){Object(jt.e)(Ot,ft).then((function(e){return n(e.user)})).catch((function(e){return c(e.code,e.message)}))})))},disabled:S,children:"Sign up using your google account"})]})]})}),Object(d.jsx)(J.a,{className:"justify-content-center",children:Object(d.jsxs)("span",{id:"loginLink",className:"text-center",children:["Already have an account?",Object(d.jsx)("br",{})," Login ",Object(d.jsx)("a",{href:"/",children:"here"}),"!"]})})]})]})}))(Et||(Et=Object(U.a)(["\n  & .button:disabled {\n    background-color: black;\n    color: grey;\n  }\n"])));var It=function(){var e=k("user",0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=function(e){"Escape"===e.key&&(e.preventDefault(),document.activeElement.blur())};return Object(c.useEffect)((function(){return document.addEventListener("keydown",r,!1),function(){document.removeEventListener("keydown",r,!1)}}),[]),Object(d.jsx)(m,{user:n,setUser:a,children:Object(d.jsx)(H,{children:Object(d.jsx)(f,{children:Object(d.jsx)(T,{children:Object(d.jsx)(E,{children:Object(d.jsx)(R,{children:Object(d.jsx)(i.a,{children:Object(d.jsxs)(u.c,{children:[Object(d.jsx)(u.a,{exact:!0,path:"/signup",children:Object(d.jsx)(Mt,{setUser:a})}),Object(d.jsx)(u.a,{exact:!0,path:"/",children:Object(d.jsx)(St,{})})]})})})})})})})})};n(174),n(175);o.a.render(Object(d.jsx)(It,{}),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.6041904d.chunk.js.map