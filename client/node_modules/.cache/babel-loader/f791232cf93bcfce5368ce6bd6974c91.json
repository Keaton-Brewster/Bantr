{"ast":null,"code":"import _extends from \"/Users/timmereeestes/Desktop/Keaton/family_messaging/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nvar _jsxFileName = \"/Users/timmereeestes/Desktop/Keaton/family_messaging/client/src/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/index.js\";\nimport React from \"react\";\n/** @jsxRuntime classic */\n\n/** @jsx jsx */\n\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\nimport { messageContainerStyle, messageWrapperStyle, messageThumbnailStyle, messageDetailStyle, nameWrapperStyle, nameStyle, messageTxtContainerStyle, messageTxtWrapperStyle, messageTxtTitleStyle, messageTxtStyle, messageBtnStyle, messageInfoWrapperStyle, messageReactionsWrapperStyle, iconStyle } from \"./style\";\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatReceiverDirectCallBubble extends React.Component {\n  constructor(props) {\n    super(props);\n    this.messageFrom = \"receiver\";\n\n    this.handleMouseHover = () => {\n      this.setState(this.toggleHoverState);\n    };\n\n    this.toggleHoverState = state => {\n      return {\n        isHovering: !state.isHovering\n      };\n    };\n\n    const message = Object.assign({}, props.message, {\n      messageFrom: this.messageFrom\n    });\n    this.state = {\n      message: message,\n      isHovering: false\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const previousMessageStr = JSON.stringify(prevProps.message);\n    const currentMessageStr = JSON.stringify(this.props.message);\n\n    if (previousMessageStr !== currentMessageStr) {\n      const message = Object.assign({}, this.props.message, {\n        messageFrom: this.messageFrom\n      });\n      this.setState({\n        message: message\n      });\n    }\n  }\n\n  render() {\n    let avatar = null,\n        name = null;\n\n    if (this.state.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n      avatar = jsx(\"div\", {\n        css: messageThumbnailStyle,\n        className: \"message__thumbnail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }, jsx(CometChatAvatar, {\n        user: this.state.message.sender,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }));\n      name = jsx(\"div\", {\n        css: nameWrapperStyle(avatar),\n        className: \"message__name__wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }\n      }, jsx(\"span\", {\n        css: nameStyle(this.context),\n        className: \"message__name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }\n      }, this.props.message.sender.name));\n    }\n\n    let messageReactions = null;\n    const reactionsData = checkMessageForExtensionsData(this.state.message, \"reactions\");\n\n    if (reactionsData) {\n      if (Object.keys(reactionsData).length) {\n        messageReactions = jsx(\"div\", {\n          css: messageReactionsWrapperStyle(),\n          className: \"message__reaction__wrapper\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 11\n          }\n        }, jsx(CometChatMessageReactions, _extends({}, this.props, {\n          message: this.state.message,\n          reaction: reactionsData,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }\n        })));\n      }\n    }\n\n    let toolTipView = null;\n\n    if (this.state.isHovering) {\n      toolTipView = jsx(CometChatMessageActions, _extends({}, this.props, {\n        message: this.state.message,\n        name: name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 9\n        }\n      }));\n    }\n\n    const messageTitle = `${this.state.message.sender.name} ${Translator.translate(\"INITIATED_GROUP_CALL\", this.props.lang)}`;\n    let callMessage = null;\n    const joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.props.lang);\n\n    if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n      //ongoing call in same group\n      callMessage = jsx(\"li\", {\n        title: joinCallMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 9\n        }\n      }, jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }\n      }, Translator.translate(\"JOIN\", this.props.lang)));\n    } else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n      //ongoing call in different group\n      callMessage = jsx(\"li\", {\n        title: joinCallMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 9\n        }\n      }, jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }\n      }, Translator.translate(\"JOIN\", this.props.lang)));\n    } else if (this.context.checkIfCallIsOngoing()) {\n      //ongoing call\n      callMessage = jsx(\"li\", {\n        title: joinCallMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 9\n        }\n      }, jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }\n      }, Translator.translate(\"JOIN\", this.props.lang)));\n    } else {\n      callMessage = jsx(\"li\", {\n        onClick: () => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.state.message),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 9\n        }\n      }, jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }\n      }, Translator.translate(\"JOIN\", this.props.lang)));\n    }\n\n    return jsx(\"div\", {\n      css: messageContainerStyle(),\n      className: \"receiver__message__container message__directcall\",\n      onMouseEnter: this.handleMouseHover,\n      onMouseLeave: this.handleMouseHover,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 7\n      }\n    }, jsx(\"div\", {\n      css: messageWrapperStyle(),\n      className: \"message__wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }, avatar, jsx(\"div\", {\n      css: messageDetailStyle(),\n      className: \"message__details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }\n    }, name, toolTipView, jsx(\"div\", {\n      css: messageTxtContainerStyle(),\n      className: \"message__directcall__container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }, jsx(\"div\", {\n      css: messageTxtWrapperStyle(this.context),\n      className: \"message__directcall__wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    }, jsx(\"div\", {\n      css: messageTxtTitleStyle(this.context),\n      className: \"message__directcall__title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, jsx(\"i\", {\n      css: iconStyle(callIcon, this.context),\n      title: Translator.translate(\"VIDEO_CALL\", this.props.lang),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 19\n      }\n    }), jsx(\"p\", {\n      css: messageTxtStyle(),\n      className: \"directcall__title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 19\n      }\n    }, messageTitle)), jsx(\"ul\", {\n      css: messageBtnStyle(this.context),\n      className: \"directcall__button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }, callMessage))), messageReactions, jsx(\"div\", {\n      css: messageInfoWrapperStyle(),\n      className: \"message__info__wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, jsx(CometChatReadReceipt, _extends({}, this.props, {\n      message: this.state.message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 15\n      }\n    })), jsx(CometChatThreadedMessageReplyCount, _extends({}, this.props, {\n      message: this.state.message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 15\n      }\n    }))))));\n  }\n\n} // Specifies the default values for props:\n\n\nCometChatReceiverDirectCallBubble.contextType = CometChatContext;\nCometChatReceiverDirectCallBubble.defaultProps = {\n  lang: Translator.getDefaultLanguage(),\n  theme: theme,\n  message: {},\n  loggedInUser: {}\n};\nCometChatReceiverDirectCallBubble.propTypes = {\n  lang: PropTypes.string,\n  theme: PropTypes.object,\n  message: PropTypes.object,\n  loggedInUser: PropTypes.object\n};\nexport { CometChatReceiverDirectCallBubble };","map":{"version":3,"sources":["/Users/timmereeestes/Desktop/Keaton/family_messaging/client/src/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/index.js"],"names":["React","jsx","PropTypes","CometChat","CometChatMessageActions","CometChatThreadedMessageReplyCount","CometChatReadReceipt","CometChatMessageReactions","CometChatAvatar","CometChatContext","checkMessageForExtensionsData","enums","theme","Translator","messageContainerStyle","messageWrapperStyle","messageThumbnailStyle","messageDetailStyle","nameWrapperStyle","nameStyle","messageTxtContainerStyle","messageTxtWrapperStyle","messageTxtTitleStyle","messageTxtStyle","messageBtnStyle","messageInfoWrapperStyle","messageReactionsWrapperStyle","iconStyle","CometChatReceiverDirectCallBubble","Component","constructor","props","messageFrom","handleMouseHover","setState","toggleHoverState","state","isHovering","message","Object","assign","componentDidUpdate","prevProps","previousMessageStr","JSON","stringify","currentMessageStr","render","avatar","name","receiverType","RECEIVER_TYPE","GROUP","sender","context","messageReactions","reactionsData","keys","length","toolTipView","messageTitle","translate","lang","callMessage","joinCallMessage","checkIfDirectCallIsOngoing","CONSTANTS","CALLS","checkIfCallIsOngoing","actionGenerated","ACTIONS","callIcon","contextType","defaultProps","getDefaultLanguage","loggedInUser","propTypes","string","object"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA;;AACA;;AACA,SAASC,GAAT,QAAoB,gBAApB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,QAA0B,qBAA1B;AAEA,SACEC,uBADF,EAEEC,kCAFF,EAGEC,oBAHF,QAIO,KAJP;AAKA,SAASC,yBAAT,QAA0C,eAA1C;AACA,SAASC,eAAT,QAAgC,cAAhC;AAEA,SAASC,gBAAT,QAAiC,gCAAjC;AACA,SAASC,6BAAT,QAA8C,sBAA9C;AACA,OAAO,KAAKC,KAAZ,MAAuB,wBAAvB;AAEA,SAASC,KAAT,QAAsB,0BAAtB;AACA,OAAOC,UAAP,MAAuB,4CAAvB;AAEA,SACEC,qBADF,EAEEC,mBAFF,EAGEC,qBAHF,EAIEC,kBAJF,EAKEC,gBALF,EAMEC,SANF,EAOEC,wBAPF,EAQEC,sBARF,EASEC,oBATF,EAUEC,eAVF,EAWEC,eAXF,EAYEC,uBAZF,EAaEC,4BAbF,EAcEC,SAdF,QAeO,SAfP;;;AAmBA,MAAMC,iCAAN,SAAgD5B,KAAK,CAAC6B,SAAtD,CAAgE;AAI9DC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AADiB,SAHnBC,WAGmB,GAHL,UAGK;;AAAA,SAwBnBC,gBAxBmB,GAwBA,MAAM;AACvB,WAAKC,QAAL,CAAc,KAAKC,gBAAnB;AACD,KA1BkB;;AAAA,SA4BnBA,gBA5BmB,GA4BCC,KAAD,IAAW;AAC5B,aAAO;AACLC,QAAAA,UAAU,EAAE,CAACD,KAAK,CAACC;AADd,OAAP;AAGD,KAhCkB;;AAGjB,UAAMC,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBT,KAAK,CAACO,OAAxB,EAAiC;AAC/CN,MAAAA,WAAW,EAAE,KAAKA;AAD6B,KAAjC,CAAhB;AAGA,SAAKI,KAAL,GAAa;AACXE,MAAAA,OAAO,EAAEA,OADE;AAEXD,MAAAA,UAAU,EAAE;AAFD,KAAb;AAID;;AAEDI,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,UAAMC,kBAAkB,GAAGC,IAAI,CAACC,SAAL,CAAeH,SAAS,CAACJ,OAAzB,CAA3B;AACA,UAAMQ,iBAAiB,GAAGF,IAAI,CAACC,SAAL,CAAe,KAAKd,KAAL,CAAWO,OAA1B,CAA1B;;AAEA,QAAIK,kBAAkB,KAAKG,iBAA3B,EAA8C;AAC5C,YAAMR,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKT,KAAL,CAAWO,OAA7B,EAAsC;AACpDN,QAAAA,WAAW,EAAE,KAAKA;AADkC,OAAtC,CAAhB;AAGA,WAAKE,QAAL,CAAc;AAAEI,QAAAA,OAAO,EAAEA;AAAX,OAAd;AACD;AACF;;AAYDS,EAAAA,MAAM,GAAG;AACP,QAAIC,MAAM,GAAG,IAAb;AAAA,QACEC,IAAI,GAAG,IADT;;AAEA,QAAI,KAAKb,KAAL,CAAWE,OAAX,CAAmBY,YAAnB,KAAoC/C,SAAS,CAACgD,aAAV,CAAwBC,KAAhE,EAAuE;AACrEJ,MAAAA,MAAM,GACJ;AAAK,QAAA,GAAG,EAAEhC,qBAAV;AAAiC,QAAA,SAAS,EAAC,oBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,IAAC,eAAD;AAAiB,QAAA,IAAI,EAAE,KAAKoB,KAAL,CAAWE,OAAX,CAAmBe,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAMAJ,MAAAA,IAAI,GACF;AAAK,QAAA,GAAG,EAAE/B,gBAAgB,CAAC8B,MAAD,CAA1B;AAAoC,QAAA,SAAS,EAAC,wBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,GAAG,EAAE7B,SAAS,CAAC,KAAKmC,OAAN,CAApB;AAAoC,QAAA,SAAS,EAAC,eAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKvB,KAAL,CAAWO,OAAX,CAAmBe,MAAnB,CAA0BJ,IAD7B,CADF,CADF;AAOD;;AAED,QAAIM,gBAAgB,GAAG,IAAvB;AACA,UAAMC,aAAa,GAAG9C,6BAA6B,CACjD,KAAK0B,KAAL,CAAWE,OADsC,EAEjD,WAFiD,CAAnD;;AAIA,QAAIkB,aAAJ,EAAmB;AACjB,UAAIjB,MAAM,CAACkB,IAAP,CAAYD,aAAZ,EAA2BE,MAA/B,EAAuC;AACrCH,QAAAA,gBAAgB,GACd;AACE,UAAA,GAAG,EAAE7B,4BAA4B,EADnC;AAEE,UAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAIE,IAAC,yBAAD,eACM,KAAKK,KADX;AAEE,UAAA,OAAO,EAAE,KAAKK,KAAL,CAAWE,OAFtB;AAGE,UAAA,QAAQ,EAAEkB,aAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAJF,CADF;AAYD;AACF;;AAED,QAAIG,WAAW,GAAG,IAAlB;;AACA,QAAI,KAAKvB,KAAL,CAAWC,UAAf,EAA2B;AACzBsB,MAAAA,WAAW,GACT,IAAC,uBAAD,eACM,KAAK5B,KADX;AAEE,QAAA,OAAO,EAAE,KAAKK,KAAL,CAAWE,OAFtB;AAGE,QAAA,IAAI,EAAEW,IAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AAOD;;AAED,UAAMW,YAAY,GAAI,GACpB,KAAKxB,KAAL,CAAWE,OAAX,CAAmBe,MAAnB,CAA0BJ,IAC3B,IAAGpC,UAAU,CAACgD,SAAX,CAAqB,sBAArB,EAA6C,KAAK9B,KAAL,CAAW+B,IAAxD,CAA8D,EAFlE;AAIA,QAAIC,WAAW,GAAG,IAAlB;AACA,UAAMC,eAAe,GAAGnD,UAAU,CAACgD,SAAX,CACtB,0BADsB,EAEtB,KAAK9B,KAAL,CAAW+B,IAFW,CAAxB;;AAKA,QACE,KAAKR,OAAL,CAAaW,0BAAb,OACAtD,KAAK,CAACuD,SAAN,CAAgBC,KAAhB,CAAsB,yBAAtB,CAFF,EAGE;AACA;AACAJ,MAAAA,WAAW,GACT;AAAI,QAAA,KAAK,EAAEC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAInD,UAAU,CAACgD,SAAX,CAAqB,MAArB,EAA6B,KAAK9B,KAAL,CAAW+B,IAAxC,CAAJ,CADF,CADF;AAKD,KAVD,MAUO,IACL,KAAKR,OAAL,CAAaW,0BAAb,OACAtD,KAAK,CAACuD,SAAN,CAAgBC,KAAhB,CAAsB,yBAAtB,CAFK,EAGL;AACA;AAEAJ,MAAAA,WAAW,GACT;AAAI,QAAA,KAAK,EAAEC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAInD,UAAU,CAACgD,SAAX,CAAqB,MAArB,EAA6B,KAAK9B,KAAL,CAAW+B,IAAxC,CAAJ,CADF,CADF;AAKD,KAXM,MAWA,IAAI,KAAKR,OAAL,CAAac,oBAAb,EAAJ,EAAyC;AAC9C;AAEAL,MAAAA,WAAW,GACT;AAAI,QAAA,KAAK,EAAEC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAInD,UAAU,CAACgD,SAAX,CAAqB,MAArB,EAA6B,KAAK9B,KAAL,CAAW+B,IAAxC,CAAJ,CADF,CADF;AAKD,KARM,MAQA;AACLC,MAAAA,WAAW,GACT;AACE,QAAA,OAAO,EAAE,MACP,KAAKhC,KAAL,CAAWsC,eAAX,CACE1D,KAAK,CAAC2D,OAAN,CAAc,kBAAd,CADF,EAEE,KAAKlC,KAAL,CAAWE,OAFb,CAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIzB,UAAU,CAACgD,SAAX,CAAqB,MAArB,EAA6B,KAAK9B,KAAL,CAAW+B,IAAxC,CAAJ,CARF,CADF;AAYD;;AAED,WACE;AACE,MAAA,GAAG,EAAEhD,qBAAqB,EAD5B;AAEE,MAAA,SAAS,EAAC,kDAFZ;AAGE,MAAA,YAAY,EAAE,KAAKmB,gBAHrB;AAIE,MAAA,YAAY,EAAE,KAAKA,gBAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME;AAAK,MAAA,GAAG,EAAElB,mBAAmB,EAA7B;AAAiC,MAAA,SAAS,EAAC,kBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGiC,MADH,EAEE;AAAK,MAAA,GAAG,EAAE/B,kBAAkB,EAA5B;AAAgC,MAAA,SAAS,EAAC,kBAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGgC,IADH,EAEGU,WAFH,EAGE;AACE,MAAA,GAAG,EAAEvC,wBAAwB,EAD/B;AAEE,MAAA,SAAS,EAAC,gCAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AACE,MAAA,GAAG,EAAEC,sBAAsB,CAAC,KAAKiC,OAAN,CAD7B;AAEE,MAAA,SAAS,EAAC,8BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AACE,MAAA,GAAG,EAAEhC,oBAAoB,CAAC,KAAKgC,OAAN,CAD3B;AAEE,MAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AACE,MAAA,GAAG,EAAE3B,SAAS,CAAC4C,QAAD,EAAW,KAAKjB,OAAhB,CADhB;AAEE,MAAA,KAAK,EAAEzC,UAAU,CAACgD,SAAX,CAAqB,YAArB,EAAmC,KAAK9B,KAAL,CAAW+B,IAA9C,CAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAQE;AAAG,MAAA,GAAG,EAAEvC,eAAe,EAAvB;AAA2B,MAAA,SAAS,EAAC,mBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGqC,YADH,CARF,CAJF,EAiBE;AACE,MAAA,GAAG,EAAEpC,eAAe,CAAC,KAAK8B,OAAN,CADtB;AAEE,MAAA,SAAS,EAAC,oBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIGS,WAJH,CAjBF,CAJF,CAHF,EAiCGR,gBAjCH,EAmCE;AACE,MAAA,GAAG,EAAE9B,uBAAuB,EAD9B;AAEE,MAAA,SAAS,EAAC,wBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,IAAC,oBAAD,eACM,KAAKM,KADX;AAEE,MAAA,OAAO,EAAE,KAAKK,KAAL,CAAWE,OAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAJF,EAQE,IAAC,kCAAD,eACM,KAAKP,KADX;AAEE,MAAA,OAAO,EAAE,KAAKK,KAAL,CAAWE,OAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OARF,CAnCF,CAFF,CANF,CADF;AA6DD;;AA7M6D,C,CAgNhE;;;AAhNMV,iC,CAEG4C,W,GAAc/D,gB;AA+MvBmB,iCAAiC,CAAC6C,YAAlC,GAAiD;AAC/CX,EAAAA,IAAI,EAAEjD,UAAU,CAAC6D,kBAAX,EADyC;AAE/C9D,EAAAA,KAAK,EAAEA,KAFwC;AAG/C0B,EAAAA,OAAO,EAAE,EAHsC;AAI/CqC,EAAAA,YAAY,EAAE;AAJiC,CAAjD;AAOA/C,iCAAiC,CAACgD,SAAlC,GAA8C;AAC5Cd,EAAAA,IAAI,EAAE5D,SAAS,CAAC2E,MAD4B;AAE5CjE,EAAAA,KAAK,EAAEV,SAAS,CAAC4E,MAF2B;AAG5CxC,EAAAA,OAAO,EAAEpC,SAAS,CAAC4E,MAHyB;AAI5CH,EAAAA,YAAY,EAAEzE,SAAS,CAAC4E;AAJoB,CAA9C;AAOA,SAASlD,iCAAT","sourcesContent":["import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport {\n  CometChatMessageActions,\n  CometChatThreadedMessageReplyCount,\n  CometChatReadReceipt,\n} from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  messageContainerStyle,\n  messageWrapperStyle,\n  messageThumbnailStyle,\n  messageDetailStyle,\n  nameWrapperStyle,\n  nameStyle,\n  messageTxtContainerStyle,\n  messageTxtWrapperStyle,\n  messageTxtTitleStyle,\n  messageTxtStyle,\n  messageBtnStyle,\n  messageInfoWrapperStyle,\n  messageReactionsWrapperStyle,\n  iconStyle,\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatReceiverDirectCallBubble extends React.Component {\n  messageFrom = \"receiver\";\n  static contextType = CometChatContext;\n\n  constructor(props) {\n    super(props);\n\n    const message = Object.assign({}, props.message, {\n      messageFrom: this.messageFrom,\n    });\n    this.state = {\n      message: message,\n      isHovering: false,\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const previousMessageStr = JSON.stringify(prevProps.message);\n    const currentMessageStr = JSON.stringify(this.props.message);\n\n    if (previousMessageStr !== currentMessageStr) {\n      const message = Object.assign({}, this.props.message, {\n        messageFrom: this.messageFrom,\n      });\n      this.setState({ message: message });\n    }\n  }\n\n  handleMouseHover = () => {\n    this.setState(this.toggleHoverState);\n  };\n\n  toggleHoverState = (state) => {\n    return {\n      isHovering: !state.isHovering,\n    };\n  };\n\n  render() {\n    let avatar = null,\n      name = null;\n    if (this.state.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n      avatar = (\n        <div css={messageThumbnailStyle} className=\"message__thumbnail\">\n          <CometChatAvatar user={this.state.message.sender} />\n        </div>\n      );\n\n      name = (\n        <div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n          <span css={nameStyle(this.context)} className=\"message__name\">\n            {this.props.message.sender.name}\n          </span>\n        </div>\n      );\n    }\n\n    let messageReactions = null;\n    const reactionsData = checkMessageForExtensionsData(\n      this.state.message,\n      \"reactions\"\n    );\n    if (reactionsData) {\n      if (Object.keys(reactionsData).length) {\n        messageReactions = (\n          <div\n            css={messageReactionsWrapperStyle()}\n            className=\"message__reaction__wrapper\"\n          >\n            <CometChatMessageReactions\n              {...this.props}\n              message={this.state.message}\n              reaction={reactionsData}\n            />\n          </div>\n        );\n      }\n    }\n\n    let toolTipView = null;\n    if (this.state.isHovering) {\n      toolTipView = (\n        <CometChatMessageActions\n          {...this.props}\n          message={this.state.message}\n          name={name}\n        />\n      );\n    }\n\n    const messageTitle = `${\n      this.state.message.sender.name\n    } ${Translator.translate(\"INITIATED_GROUP_CALL\", this.props.lang)}`;\n\n    let callMessage = null;\n    const joinCallMessage = Translator.translate(\n      \"YOU_ALREADY_ONGOING_CALL\",\n      this.props.lang\n    );\n\n    if (\n      this.context.checkIfDirectCallIsOngoing() ===\n      enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]\n    ) {\n      //ongoing call in same group\n      callMessage = (\n        <li title={joinCallMessage}>\n          <p>{Translator.translate(\"JOIN\", this.props.lang)}</p>\n        </li>\n      );\n    } else if (\n      this.context.checkIfDirectCallIsOngoing() ===\n      enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]\n    ) {\n      //ongoing call in different group\n\n      callMessage = (\n        <li title={joinCallMessage}>\n          <p>{Translator.translate(\"JOIN\", this.props.lang)}</p>\n        </li>\n      );\n    } else if (this.context.checkIfCallIsOngoing()) {\n      //ongoing call\n\n      callMessage = (\n        <li title={joinCallMessage}>\n          <p>{Translator.translate(\"JOIN\", this.props.lang)}</p>\n        </li>\n      );\n    } else {\n      callMessage = (\n        <li\n          onClick={() =>\n            this.props.actionGenerated(\n              enums.ACTIONS[\"JOIN_DIRECT_CALL\"],\n              this.state.message\n            )\n          }\n        >\n          <p>{Translator.translate(\"JOIN\", this.props.lang)}</p>\n        </li>\n      );\n    }\n\n    return (\n      <div\n        css={messageContainerStyle()}\n        className=\"receiver__message__container message__directcall\"\n        onMouseEnter={this.handleMouseHover}\n        onMouseLeave={this.handleMouseHover}\n      >\n        <div css={messageWrapperStyle()} className=\"message__wrapper\">\n          {avatar}\n          <div css={messageDetailStyle()} className=\"message__details\">\n            {name}\n            {toolTipView}\n            <div\n              css={messageTxtContainerStyle()}\n              className=\"message__directcall__container\"\n            >\n              <div\n                css={messageTxtWrapperStyle(this.context)}\n                className=\"message__directcall__wrapper\"\n              >\n                <div\n                  css={messageTxtTitleStyle(this.context)}\n                  className=\"message__directcall__title\"\n                >\n                  <i\n                    css={iconStyle(callIcon, this.context)}\n                    title={Translator.translate(\"VIDEO_CALL\", this.props.lang)}\n                  ></i>\n                  <p css={messageTxtStyle()} className=\"directcall__title\">\n                    {messageTitle}\n                  </p>\n                </div>\n\n                <ul\n                  css={messageBtnStyle(this.context)}\n                  className=\"directcall__button\"\n                >\n                  {callMessage}\n                </ul>\n              </div>\n            </div>\n\n            {messageReactions}\n\n            <div\n              css={messageInfoWrapperStyle()}\n              className=\"message__info__wrapper\"\n            >\n              <CometChatReadReceipt\n                {...this.props}\n                message={this.state.message}\n              />\n              <CometChatThreadedMessageReplyCount\n                {...this.props}\n                message={this.state.message}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// Specifies the default values for props:\nCometChatReceiverDirectCallBubble.defaultProps = {\n  lang: Translator.getDefaultLanguage(),\n  theme: theme,\n  message: {},\n  loggedInUser: {},\n};\n\nCometChatReceiverDirectCallBubble.propTypes = {\n  lang: PropTypes.string,\n  theme: PropTypes.object,\n  message: PropTypes.object,\n  loggedInUser: PropTypes.object,\n};\n\nexport { CometChatReceiverDirectCallBubble };\n"]},"metadata":{},"sourceType":"module"}