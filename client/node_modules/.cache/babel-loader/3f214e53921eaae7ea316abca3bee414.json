{"ast":null,"code":"import { CometChat } from \"@cometchat-pro/chat\";\nimport * as enums from \"../../../util/enums.js\";\nexport class SharedMediaManager {\n  constructor(item, type, messagetype) {\n    this.mediaMessageListenerId = new Date().getTime();\n    this.mediaMessageRequest = null;\n\n    if (type === \"user\") {\n      this.mediaMessageRequest = new CometChat.MessagesRequestBuilder().setUID(item.uid).setLimit(10).setCategory(\"message\").setType(messagetype).build();\n    } else {\n      this.mediaMessageRequest = new CometChat.MessagesRequestBuilder().setGUID(item.guid).setLimit(10).setCategory(\"message\").setType(messagetype).build();\n    }\n  }\n\n  fetchPreviousMessages() {\n    return this.mediaMessageRequest.fetchPrevious();\n  }\n\n  attachListeners(callback) {\n    CometChat.addMessageListener(this.msgListenerId, new CometChat.MessageListener({\n      onMediaMessageReceived: mediaMessage => {\n        callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n      },\n      onMessageDeleted: deletedMessage => {\n        callback(enums.MESSAGE_DELETED, deletedMessage);\n      }\n    }));\n  }\n\n  removeListeners() {\n    CometChat.removeMessageListener(this.mediaMessageListenerId);\n  }\n\n}","map":{"version":3,"sources":["/Users/timmereeestes/Desktop/Keaton/family_messaging/client/src/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/controller.js"],"names":["CometChat","enums","SharedMediaManager","constructor","item","type","messagetype","mediaMessageListenerId","Date","getTime","mediaMessageRequest","MessagesRequestBuilder","setUID","uid","setLimit","setCategory","setType","build","setGUID","guid","fetchPreviousMessages","fetchPrevious","attachListeners","callback","addMessageListener","msgListenerId","MessageListener","onMediaMessageReceived","mediaMessage","MEDIA_MESSAGE_RECEIVED","onMessageDeleted","deletedMessage","MESSAGE_DELETED","removeListeners","removeMessageListener"],"mappings":"AAAA,SAASA,SAAT,QAA0B,qBAA1B;AAEA,OAAO,KAAKC,KAAZ,MAAuB,wBAAvB;AAEA,OAAO,MAAMC,kBAAN,CAAyB;AAK5BC,EAAAA,WAAW,CAACC,IAAD,EAAOC,IAAP,EAAaC,WAAb,EAA0B;AAAA,SAHrCC,sBAGqC,GAHZ,IAAIC,IAAJ,GAAWC,OAAX,EAGY;AAAA,SAFrCC,mBAEqC,GAFf,IAEe;;AAEjC,QAAGL,IAAI,KAAK,MAAZ,EAAoB;AAEhB,WAAKK,mBAAL,GAA2B,IAAIV,SAAS,CAACW,sBAAd,GAC1BC,MAD0B,CACnBR,IAAI,CAACS,GADc,EAE1BC,QAF0B,CAEjB,EAFiB,EAEbC,WAFa,CAED,SAFC,EAEUC,OAFV,CAEkBV,WAFlB,EAE+BW,KAF/B,EAA3B;AAIH,KAND,MAMO;AAEH,WAAKP,mBAAL,GAA2B,IAAIV,SAAS,CAACW,sBAAd,GAC1BO,OAD0B,CAClBd,IAAI,CAACe,IADa,EAE1BL,QAF0B,CAEjB,EAFiB,EAEbC,WAFa,CAED,SAFC,EAEUC,OAFV,CAEkBV,WAFlB,EAE+BW,KAF/B,EAA3B;AAGH;AACJ;;AAEDG,EAAAA,qBAAqB,GAAG;AACpB,WAAO,KAAKV,mBAAL,CAAyBW,aAAzB,EAAP;AACH;;AAEDC,EAAAA,eAAe,CAACC,QAAD,EAAW;AAEtBvB,IAAAA,SAAS,CAACwB,kBAAV,CACI,KAAKC,aADT,EAEI,IAAIzB,SAAS,CAAC0B,eAAd,CAA8B;AAC1BC,MAAAA,sBAAsB,EAAEC,YAAY,IAAI;AACpCL,QAAAA,QAAQ,CAACtB,KAAK,CAAC4B,sBAAP,EAA+BD,YAA/B,CAAR;AACH,OAHyB;AAI1BE,MAAAA,gBAAgB,EAAEC,cAAc,IAAI;AAChCR,QAAAA,QAAQ,CAACtB,KAAK,CAAC+B,eAAP,EAAwBD,cAAxB,CAAR;AACH;AANyB,KAA9B,CAFJ;AAWH;;AAEDE,EAAAA,eAAe,GAAG;AACdjC,IAAAA,SAAS,CAACkC,qBAAV,CAAgC,KAAK3B,sBAArC;AACH;;AA1C2B","sourcesContent":["import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class SharedMediaManager {\n\n    mediaMessageListenerId = new Date().getTime();\n    mediaMessageRequest = null;\n\n    constructor(item, type, messagetype) {\n\n        if(type === \"user\") {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setUID(item.uid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n\n        } else {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setGUID(item.guid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n        }\n    }\n\n    fetchPreviousMessages() {\n        return this.mediaMessageRequest.fetchPrevious();\n    }\n    \n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.mediaMessageListenerId);\n    }\n\n}"]},"metadata":{},"sourceType":"module"}